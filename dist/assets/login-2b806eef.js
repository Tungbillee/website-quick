import{_ as w,r as u,o as a,c as r,a as s,s as f,i as c,d as p,j as n,v,x as y,b as g,t as x,y as k,k as I,p as S,g as b}from"./index-f7330ada.js";import{b as _}from"./route-block-83d24a4e.js";const m={data(){return{email_login:"",password_login:"",showPassword:!1,error_login:"",miss_password:!1}},watch:{miss_password(t){t?(this.email_login&&localStorage.setItem("email_login",this.email_login),this.password_login&&localStorage.setItem("password_login",this.password_login)):(localStorage.removeItem("email_login"),localStorage.removeItem("password_login"))}},created(){localStorage.getItem("email_login")&&(this.email_login=localStorage.getItem("email_login")),localStorage.getItem("password_login")&&(this.password_login=localStorage.getItem("password_login"))},methods:{img(t){return"images/login/"+t},showpass(){this.showPassword=!this.showPassword},register(){this.$router.push("/list-agency")},async onLogin(){let t=await this.api({path:"/auth/signin",method:"POST",data:{email:this.email_login,password:this.password_login,from:"web"}});t.success?(localStorage.setItem("accessToken",t.accessToken),this.$router.push("/"),window.location.reload()):this.error_login=t.message}}},h=t=>(S("data-v-d5ac3aff"),t=t(),b(),t),C={class:"container-login flex-al-jt"},P={class:"login-form flex-cl-al gap-50"},V=["src"],L={class:"form"},N=h(()=>s("div",{class:"fz-20 mgbt-20 fw-700"},"Đăng nhập.",-1)),T={class:"flex align",style:{width:"100%"}},j=["type"],M=["src"],z=["src"],B={key:0,style:{color:"red"},class:"error mgt-15"},D={class:"mgt-30 flex-bw-al"},U={class:"flex-al gap-5"},K=h(()=>s("div",null,"Nhớ mật khẩu",-1)),E={class:"mgt-15 flex-al-jt gap-5"};function O(t,e,q,A,o,l){const d=u("Icon");return a(),r("div",C,[s("div",P,[s("div",null,[s("img",{src:l.img("logo.svg"),alt:""},null,8,V)]),s("div",L,[N,s("form",{onKeyup:e[6]||(e[6]=f((...i)=>l.onLogin&&l.onLogin(...i),["enter"]))},[s("div",{class:c(["wrap flex-al",{active:o.email_login}])},[p(d,{src:l.img("people.svg"),alt:""},null,8,["src"]),n(s("input",{class:"flex-al",style:{height:"20px"},type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>o.email_login=i),placeholder:"Điền email đăng nhập..."},null,512),[[v,o.email_login]])],2),s("div",{class:c(["wrap flex-bw-al gap-5",{active:o.password_login}])},[s("div",T,[p(d,{size:"20",src:l.img("password.svg"),alt:""},null,8,["src"]),n(s("input",{style:{height:"20px"},"onUpdate:modelValue":e[1]||(e[1]=i=>o.password_login=i),class:"ip-pass flex-al",type:o.showPassword?"text":"password",placeholder:"Mật khẩu..."},null,8,j),[[y,o.password_login]])]),o.password_login&&!o.showPassword?(a(),r("img",{key:0,style:{cursor:"pointer"},src:l.img("eye.svg"),alt:"",onClick:e[2]||(e[2]=(...i)=>l.showpass&&l.showpass(...i))},null,8,M)):g("",!0),o.password_login&&o.showPassword?(a(),r("img",{key:1,style:{cursor:"pointer"},src:l.img("eye_hiden.svg"),alt:"",onClick:e[3]||(e[3]=(...i)=>l.showpass&&l.showpass(...i))},null,8,z)):g("",!0)],2),o.email_login||o.password_login?(a(),r("div",B,x(o.error_login),1)):g("",!0),s("div",D,[s("div",U,[n(s("input",{type:"checkbox",name:"",id:"","onUpdate:modelValue":e[4]||(e[4]=i=>o.miss_password=i)},null,512),[[k,o.miss_password]]),K])]),s("div",{class:"mgt-30 button flex-al-jt",onClick:e[5]||(e[5]=(...i)=>l.onLogin&&l.onLogin(...i))},"Đăng nhập")],32),s("div",E,[I(" Chưa có tài khoản? "),s("span",{style:{cursor:"pointer"},class:"text-gradien",onClick:e[7]||(e[7]=(...i)=>l.register&&l.register(...i))}," Liên hệ đại lý đăng ký")])])])])}typeof _=="function"&&_(m);const H=w(m,[["render",O],["__scopeId","data-v-d5ac3aff"]]);export{H as default};
