import{_ as w,r as u,o as a,c as n,a as s,s as f,h as c,d as p,i as r,v,x as y,b as g,t as x,y as k,l as I,p as S,j as b}from"./index-52677018.js";import{b as m}from"./route-block-83d24a4e.js";const _={data(){return{email_login:"",password_login:"",showPassword:!1,error_login:"",miss_password:!1}},watch:{miss_password(i){i?(this.email_login&&localStorage.setItem("email_login",this.email_login),this.password_login&&localStorage.setItem("password_login",this.password_login)):(localStorage.removeItem("email_login"),localStorage.removeItem("password_login"))}},created(){localStorage.getItem("email_login")&&(this.email_login=localStorage.getItem("email_login")),localStorage.getItem("password_login")&&(this.password_login=localStorage.getItem("password_login"))},methods:{img(i){return"images/login/"+i},showpass(){this.showPassword=!this.showPassword},async onLogin(){let i=await this.api({path:"/auth/signin",method:"POST",data:{email:this.email_login,password:this.password_login,from:"web"}});i.success?(localStorage.setItem("accessToken",i.accessToken),this.$router.push("/"),window.location.reload()):this.error_login=i.message}}},h=i=>(S("data-v-51457c8f"),i=i(),b(),i),C={class:"container-login flex-al-jt"},P={class:"login-form flex-cl-al gap-50"},V=["src"],L={class:"form"},N=h(()=>s("div",{class:"fz-20 mgbt-20 fw-700"},"Đăng nhập.",-1)),T={class:"flex align",style:{width:"100%"}},j=["type"],M=["src"],z=["src"],B={key:0,style:{color:"red"},class:"error mgt-15"},D={class:"mgt-30 flex-bw-al"},U={class:"flex-al gap-5"},K=h(()=>s("div",null,"Nhớ mật khẩu",-1)),E={class:"mgt-15 flex-al-jt gap-5"};function O(i,o,q,A,e,t){const d=u("Icon");return a(),n("div",C,[s("div",P,[s("div",null,[s("img",{src:t.img("logo.svg"),alt:""},null,8,V)]),s("div",L,[N,s("form",{onKeyup:o[6]||(o[6]=f((...l)=>t.onLogin&&t.onLogin(...l),["enter"]))},[s("div",{class:c(["wrap flex-al",{active:e.email_login}])},[p(d,{src:t.img("people.svg"),alt:""},null,8,["src"]),r(s("input",{class:"flex-al",style:{height:"20px"},type:"text","onUpdate:modelValue":o[0]||(o[0]=l=>e.email_login=l),placeholder:"Điền email đăng nhập..."},null,512),[[v,e.email_login]])],2),s("div",{class:c(["wrap flex-bw-al gap-5",{active:e.password_login}])},[s("div",T,[p(d,{size:"20",src:t.img("password.svg"),alt:""},null,8,["src"]),r(s("input",{style:{height:"20px"},"onUpdate:modelValue":o[1]||(o[1]=l=>e.password_login=l),class:"ip-pass flex-al",type:e.showPassword?"text":"password",placeholder:"Mật khẩu..."},null,8,j),[[y,e.password_login]])]),e.password_login&&!e.showPassword?(a(),n("img",{key:0,style:{cursor:"pointer"},src:t.img("eye.svg"),alt:"",onClick:o[2]||(o[2]=(...l)=>t.showpass&&t.showpass(...l))},null,8,M)):g("",!0),e.password_login&&e.showPassword?(a(),n("img",{key:1,style:{cursor:"pointer"},src:t.img("eye_hiden.svg"),alt:"",onClick:o[3]||(o[3]=(...l)=>t.showpass&&t.showpass(...l))},null,8,z)):g("",!0)],2),e.email_login||e.password_login?(a(),n("div",B,x(e.error_login),1)):g("",!0),s("div",D,[s("div",U,[r(s("input",{type:"checkbox",name:"",id:"","onUpdate:modelValue":o[4]||(o[4]=l=>e.miss_password=l)},null,512),[[k,e.miss_password]]),K])]),s("div",{class:"mgt-30 button flex-al-jt",onClick:o[5]||(o[5]=(...l)=>t.onLogin&&t.onLogin(...l))},"Đăng nhập")],32),s("div",E,[I(" Chưa có tài khoản? "),s("span",{style:{cursor:"pointer"},class:"text-gradien",onClick:o[7]||(o[7]=(...l)=>i.register&&i.register(...l))}," Liên hệ đại lý đăng ký")])])])])}typeof m=="function"&&m(_);const H=w(_,[["render",O],["__scopeId","data-v-51457c8f"]]);export{H as default};
