import{_ as M,l as E,r as C,o,c as l,a as e,i as y,v as T,t as d,F as v,e as A,h as k,d as b,n as I,B as f,b as g,p as D,k as F,g as P,f as N}from"./index-2c50a4e5.js";import{b as S}from"./route-block-83d24a4e.js";const V={data(){return{error:"",password:"",isAddClient:!1,email:"",calendar:[{name:"1 tháng",title:"Không giảm giá"},{name:"6 tháng",title:"Giảm 40%",class:"red"},{name:"12 tháng",title:"Giảm 50%",class:"red"}],packages:[{name:"Normal",icon:"icon_plus.svg"},{name:"Advance",icon:"icon_Advance.svg"},{name:"Pro",icon:"icon_Pro.svg"}],selectPackage:"Normal",selectCalendar:""}},created(){this.generatePassword()},computed:{totalAmount(){const t=E().price,c={"1 tháng":"Theo tháng","6 tháng":"Theo quý","12 tháng":"Theo năm"}[this.selectCalendar],_=t.find(s=>s.period===c);return _?_.price:0},formattedAmount(){return new Intl.NumberFormat("vi-VN",{maximumFractionDigits:0,useGrouping:!0}).format(this.totalAmount)}},methods:{openAddClient(){this.isAddClient=!0},getAmountByPeriod(t){const n=E().price,_={"1 tháng":"Theo tháng","6 tháng":"Theo quý","12 tháng":"Theo năm"}[t],s=n.find(i=>i.period===_);return s?s.price:0},formattedAmountstart(t){const n=this.getAmountByPeriod(t);return new Intl.NumberFormat("vi-VN",{maximumFractionDigits:0,useGrouping:!0}).format(n)},img(t){return"images/admin-panel/"+t},async createClient(){if(!this.email||!this.password){this.error="Vui lòng nhập đẩy đủ thông tin";return}if(this.selectCalendar===""){this.error="Vui lòng chọn thời hạn gói cước";return}let t,n;this.selectCalendar==="1 tháng"?(t="Theo tháng",n="Normal"):this.selectCalendar==="6 tháng"?(t="Theo quý",n="Advance"):(t="Theo năm",n="Pro");let c=await this.api({path:"/web/agency/register",method:"POST",data:{email:this.email,password:this.password,package:n,calendar:t}});c.success?(this.isAddClient=!1,this.$emit("createClient")):this.error=c.message},generatePassword(){const n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let c="";for(let _=0;_<12;_++){const s=Math.floor(Math.random()*n.length);c+=n[s]}this.password=c}}},u=t=>(D("data-v-99fc40dc"),t=t(),F(),t),j={class:"flex-cl gap-20 info"},R={class:"flex-al gap-5"},Y=["src"],L=u(()=>e("div",{class:"title"},"Tạo khách hàng",-1)),z=u(()=>e("div",null,"Nhập email khách hàng",-1)),H={class:"ip flex-al gap-5"},G=["src"],K=u(()=>e("div",{class:"text-300"},"|",-1)),O={class:"mgt-15"},q=u(()=>e("div",null,"Mật khẩu",-1)),U={class:"ip flex-bw-al gap-5"},Q={class:"flex-al gap-5"},J=["src"],W=u(()=>e("div",{class:"text-300"},"|",-1)),X=["src"],Z=u(()=>e("div",null,"Tạo lại",-1)),ee={class:"selects"},te={class:"mgt-15"},ne=u(()=>e("div",null,"Thời hạn gói cước",-1)),se={class:"gap-10 mgt-10"},ie=["onClick"],ae={class:"flex-al gap-10"},oe={class:"fw-600"},le={key:1,class:"mgt-5 fw-400 fz-12 text-300 discounts",style:{padding:"0"}},ce={class:"mgt-5 fw-400 text-300"},de={class:"creates"},re={class:"flex-bw-al"},_e=u(()=>e("div",{class:"text-green"},"Tổng giá trị khách hàng:",-1)),he={class:"text-green fw-600"},ge={class:"mgt-15 flex-al-jt error"};function me(t,n,c,_,s,i){const h=C("Icon");return s.isAddClient?(o(),l("div",{key:0,class:"add-client flex-al-jt",onClick:n[4]||(n[4]=r=>s.isAddClient=!1)},[e("div",{onClick:n[3]||(n[3]=f(()=>{},["stop"])),class:"ctn-add animate__animated animate__zoomIn"},[e("div",j,[e("div",R,[e("img",{src:i.img("icon_addclient.svg"),alt:""},null,8,Y),L]),e("div",null,[z,e("div",H,[e("img",{src:i.img("icon_email.svg"),alt:""},null,8,G),K,y(e("input",{"onUpdate:modelValue":n[0]||(n[0]=r=>s.email=r),type:"text",placeholder:"Nhập email khách hàng"},null,512),[[T,s.email]])])]),e("div",O,[q,e("div",U,[e("div",Q,[e("img",{src:i.img("icon_password.svg"),alt:""},null,8,J),W,e("div",null,d(s.password),1)]),e("div",{class:"flex-al gap-3 refresh",onClick:n[1]||(n[1]=(...r)=>i.generatePassword&&i.generatePassword(...r))},[e("img",{src:i.img("icon_retry.svg"),alt:""},null,8,X),Z])])]),e("div",ee,[e("div",te,[ne,e("div",se,[(o(!0),l(v,null,A(s.calendar,r=>(o(),l("div",{class:k([{active:s.selectCalendar===r.name},"item-select flex-bw-al"]),key:r.name,onClick:p=>s.selectCalendar=r.name},[e("div",ae,[b(h,{size:"24",src:i.img("icon_calendar.svg"),alt:""},null,8,["src"]),e("div",null,[e("div",oe,d(r.name),1),r.title!=="Không giảm giá"?(o(),l("div",{key:0,class:"mgt-5 fw-400 fz-12 discounts",style:I({background:r.class})},d(r.title),5)):(o(),l("div",le,"Không giảm giá"))])]),e("div",null,[e("div",null,d(i.formattedAmountstart(r.name))+" Point",1),e("div",ce,d(r.name==="6 tháng"?(i.getAmountByPeriod(r.name)/6).toLocaleString("vi-VN")+"/tháng":r.name==="12 tháng"?(i.getAmountByPeriod(r.name)/12).toLocaleString("vi-VN")+"/tháng":""),1)])],10,ie))),128))])])])]),e("div",de,[e("div",re,[_e,e("div",he,d(i.formattedAmount)+" Point",1)]),e("div",{class:"mgt-20 button flex-al-jt",onClick:n[2]||(n[2]=(...r)=>i.createClient&&i.createClient(...r))},"Tạo ngay"),e("div",ge,d(s.error),1)])])])):g("",!0)}const pe=M(V,[["render",me],["__scopeId","data-v-99fc40dc"]]);const ue={props:{select_client_money:{type:Object,default:{}}},data(){return{isAddMoney:!1,money:0,error:""}},methods:{img(t){return"images/admin-panel/"+t},openAddMoney(){this.isAddMoney=!0},async closeAddMoney(){let t=await this.api({path:"/web/agency/recharge-user",method:"POST",data:{email:this.select_client_money.email,amount:this.money}});t.success?(this.$emit("successRecharge"),this.isAddMoney=!1):this.error=t.message}}},ye=t=>(D("data-v-868eff7d"),t=t(),F(),t),ve={class:"flex-al gap-5"},fe=["src"],xe=ye(()=>e("div",{class:"title fz-18 fw-600"},"Nạp tiền vào tài khoản:",-1)),we={class:"number-money mgt-10"},ke={class:"error"};function Ce(t,n,c,_,s,i){return s.isAddMoney?(o(),l("div",{key:0,class:"container-add-money flex-al-jt",onClick:n[3]||(n[3]=f(h=>s.isAddMoney=!1,["stop"]))},[e("div",{onClick:n[2]||(n[2]=f(()=>{},["stop"])),class:"add-moneys animate__animated animate__zoomIn"},[e("div",ve,[e("img",{src:i.img("add-money.svg"),alt:""},null,8,fe),xe]),e("div",we,[y(e("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=h=>s.money=h),placeholder:"Nhập số tiền"},null,512),[[T,s.money]])]),e("div",{onClick:n[1]||(n[1]=(...h)=>i.closeAddMoney&&i.closeAddMoney(...h)),class:"button mgt-30 flex-al-jt"},"Nạp ngay"),e("div",ke,d(s.error),1)])])):g("",!0)}const Ae=M(ue,[["render",Ce],["__scopeId","data-v-868eff7d"]]);const B={components:{AddClient:pe,AddMoney:Ae},data(){return{filter_money:"all",info_agency:{},filter_type_money:!1,selected_index:"",type_money:"out",search_trade_money:"",selected_type:"client",user:{},isAddClient:!0,data_client:[],select_up_money:"",search:"",data_trade_money:[],dateRange:"",pagination_trade_money:{current_page:1,per_page:25,total:0,total_pages:0,loading:!1},pagination:{current_page:1,per_page:25,total:0,total_pages:0,loading:!1},item_information:[{icon:"icon_money.svg",name:"Tổng số tiền vào hệ thống",number:5e8},{icon:"icon_balance.svg",name:"Số dư",number:5e8},{icon:"icon_balance_client.svg",name:"Tổng số tiền đã nạp cho KH",number:5e8},{icon:"icon_all_client.svg",name:"Tổng số khách hàng",number:1904}],select_client_money:""}},created(){this.checkInfoAgency(),this.getInfoClientAgency(),this.getTradeMoneyAgency()},watch:{search(t){setTimeout(()=>{this.data_client=[],this.pagination.current_page=1,this.getInfoClientAgency()},700)},search_trade_money(t){setTimeout(()=>{this.data_trade_money=[],this.pagination_trade_money.current_page=1,this.getTradeMoneyAgency()},700)},selected_type(t){t==="transaction"&&setTimeout(()=>{this.openDateRangePicker()},300)},filter_money(t){this.data_trade_money=[],this.pagination_trade_money.current_page=1,this.getTradeMoneyAgency()},dateRange(t){this.type_money==="out"?(this.data_trade_money=[],this.pagination_trade_money.current_page=1,this.getTradeMoneyAgency()):(this.data_trade_money=[],this.pagination_trade_money.current_page=1,this.getTradeMoneyIn())},type_money(t){t==="in"?(this.data_trade_money=[],this.pagination_trade_money.current_page=1,this.getTradeMoneyIn(),this.openDateRangePicker()):(this.data_trade_money=[],this.pagination_trade_money.current_page=1,this.getTradeMoneyAgency())}},methods:{img(t){return"images/admin-panel/"+t},async successRecharge(){await this.checkInfoAgency(),this.data_client=[],this.pagination.current_page=1,await this.getInfoClientAgency()},copyPassword(t){navigator.clipboard.writeText(t.password_one),this.showErrorMessage("Đã copy mật khẩu","success"),this.select_up_money=""},showErrorMessage(t,n){this.$notie({type:n,text:t,remainingTime:3e3})},upMoneyClient(t){this.select_client_money=t,this.$refs.addMoney.openAddMoney()},openDateRangePicker(){$('input[name="datetimes"]').daterangepicker({ranges:{"Hôm nay":[moment(),moment()],"Hôm qua":[moment().subtract(1,"days"),moment().subtract(1,"days")],"7 ngày qua":[moment().subtract(6,"days"),moment()],"30 ngày qua":[moment().subtract(29,"days"),moment()],"Tháng này":[moment().startOf("month"),moment().endOf("month")],"Tháng trước":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")]},alwaysShowCalendars:!0,startDate:"27/10/2024",endDate:"02/11/2024",locale:{format:"DD/MM/YYYY"}},(t,n,c)=>{this.dateRange=t.format("DD/MM/YYYY")+" - "+n.format("DD/MM/YYYY")})},clickpageAccount(t,n){this[n]=t,this[n]!==""&&this.$nextTick(()=>{const c=_=>{!_.target.closest(".popup-class")&&!_.target.closest(".info-detail")&&(this[n]="",document.removeEventListener("click",c))};setTimeout(()=>{document.addEventListener("click",c)},0)})},formatDateTime(t){if(!t)return"-";const n=new Date(t),c=String(n.getHours()).padStart(2,"0"),_=String(n.getMinutes()).padStart(2,"0"),s=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),h=n.getFullYear();return`${c}:${_} - ${s}/${i}/${h}`},clickpageOpen(t){if(this[t]=!this[t],this[t]){const n=c=>{c.target.closest(".popup-class")||(this[t]=!1,window.removeEventListener("click",n))};window.addEventListener("click",n)}},formatExpiryDate(t){if(!t)return"-";const n=new Date,c=new Date(t),_=c.getTime()-n.getTime(),s=Math.ceil(_/(1e3*60*60*24)),i=String(c.getDate()).padStart(2,"0"),h=String(c.getMonth()+1).padStart(2,"0"),r=c.getFullYear(),p=`${i}/${h}/${r}`;return s<0?`Đã hết hạn (${p})`:s===0?`Hết hạn hôm nay (${p})`:`Còn ${s} ngày (hết hạn ${p})`},formatExpiryDateMonth(t,n){if(!t||!n)return"-";const c=new Date,_=new Date(t),s=new Date(_);s.setMonth(s.getMonth()+n);const i=s.getTime()-c.getTime(),h=Math.ceil(i/(1e3*60*60*24)),r=String(s.getDate()).padStart(2,"0"),p=String(s.getMonth()+1).padStart(2,"0"),x=s.getFullYear(),a=`${r}/${p}/${x}`;return h<0?`Đã hết hạn (${a})`:h===0?`Hết hạn hôm nay (${a})`:`Còn ${h} ngày (hết hạn ${a})`},createClient(){this.checkInfoAgency(),this.getInfoClientAgency(),window.location.reload()},openAddClient(){this.$refs.addClient.openAddClient()},getPackageIcon(t){const n={Normal:"icon_plus.svg",Advance:"icon_Pro.svg",Pro:"icon_Advance.svg"};return this.img(n[t]||"default_icon.svg")},async getTradeMoneyIn(){if(this.pagination_trade_money.loading)return;this.pagination_trade_money.loading=!0;let t=await this.api({path:"/web/agency/get-trade-money-in",method:"GET",params:{date_range:this.dateRange,page:this.pagination_trade_money.current_page,limit:this.pagination_trade_money.per_page}});t.success&&(this.data_trade_money=[...this.data_trade_money,...t.data],this.pagination_trade_money.total=t.pagination.total,this.pagination_trade_money.total_pages=t.pagination.total_pages,this.pagination_trade_money.loading=!1)},loadMoreTradeMoneyIn(t){t&&!this.pagination_trade_money.loading&&this.pagination_trade_money.current_page<this.pagination_trade_money.total_pages&&(this.pagination_trade_money.current_page+=1,this.getTradeMoneyIn())},loadMoreTradeMoney(t){t&&!this.pagination_trade_money.loading&&this.pagination_trade_money.current_page<this.pagination_trade_money.total_pages&&(this.pagination_trade_money.current_page+=1,this.getTradeMoneyAgency())},async getTradeMoneyAgency(){if(this.pagination_trade_money.loading)return;this.pagination_trade_money.loading=!0;let t=await this.api({path:"/web/agency/get-trade-money-out",method:"GET",params:{filter:this.filter_money,date_range:this.dateRange,email:this.search_trade_money,page:this.pagination_trade_money.current_page,limit:this.pagination_trade_money.per_page}});t.success&&(this.data_trade_money=[...this.data_trade_money,...t.data],this.pagination_trade_money.total=t.pagination.total,this.pagination_trade_money.total_pages=t.pagination.total_pages,this.pagination_trade_money.loading=!1)},async getInfoClientAgency(){if(this.pagination.loading)return;this.pagination.loading=!0;let t=await this.api({path:"/web/agency/get-info-client-agency",method:"GET",params:{email:this.search,page:this.pagination.current_page,limit:this.pagination.per_page}});t.success&&(this.data_client=[...this.data_client,...t.data],this.pagination.total=t.pagination.total,this.pagination.total_pages=t.pagination.total_pages,this.pagination.loading=!1)},async checkInfoAgency(){let t=await this.api({path:"/web/agency/get-info-agency",method:"GET"});t.success&&(this.info_agency=t.data,this.item_information=[{icon:"icon_money.svg",name:"Tổng số point vào hệ thống",number:this.formatCurrency(t.data.total_amount_deposited)},{icon:"icon_balance.svg",name:"Số dư",number:this.formatCurrency(t.data.balance)},{icon:"icon_balance_client.svg",name:"Tổng số point đã nạp cho KH",number:this.formatCurrency(t.data.total_amount_client)},{icon:"icon_all_client.svg",name:"Tổng số khách hàng",number:t.data.number_of_clients}])},loadMoreVideos(t){t&&!this.pagination.loading&&this.pagination.current_page<this.pagination.total_pages&&(this.pagination.current_page+=1,this.getInfoClientAgency())},getRandomColor(t){let n=0;for(let _=0;_<t.length;_++)n=t.charCodeAt(_)+((n<<5)-n);const c=["#FF6B6B","#FF8C94","#FFB5A7","#FFA07A","#FF7F50","#FF6347","#E67E22","#FF4500","#FF8C00","#FFA500","#FFD700","#4ECDC4","#45B7D1","#00CED1","#20B2AA","#48D1CC","#40E0D0","#00BCD4","#5F9EA0","#4682B4","#6495ED","#9B59B6","#8E44AD","#BA55D3","#DA70D6","#DDA0DD","#EE82EE","#FF69B4","#FFB6C1","#DB7093","#96CEB4","#27AE60","#2ECC71","#32CD32","#90EE90","#98FB98","#00FA9A","#00FF7F","#3CB371","#D4A5A5","#E6B0AA","#D7BDE2","#A9CCE3","#A3E4D7","#A2D9CE","#A9DFBF","#F9E79F","#F5CBA7","#2C3E50","#34495E","#16A085","#27AE60","#2980B9","#8E44AD","#2C3E50","#D35400","#C0392B"];return c[Math.abs(n)%c.length]},getFirstLetter(t){return t?t.charAt(0).toUpperCase():"?"},formatnumber(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},formatCurrency(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")+" Point"}}},m=t=>(D("data-v-7c9faa60"),t=t(),F(),t),be={class:"container-admin-panel"},Te=m(()=>e("div",{class:"space"},null,-1)),Me={class:"content"},De={class:"information flex-cl-bw gap-20"},Fe={class:"flex-bw-al"},Ee=["src"],Se={class:"flex-al gap-5"},Ie=["src"],Be={class:"fw-600"},Pe={class:"flex gap-20"},Ne={class:"icon flex-al-jt"},Ve=["src"],je={class:"text-200 lh-22"},Re={class:"text-700 lh-22 mgt-10"},Ye={class:"flex-bw-al"},Le={class:"flex manage"},ze={key:0,class:"flex-al gap-15"},He={class:"search flex-al gap-3"},Ge=["src"],Ke=["src"],Oe=m(()=>e("div",null,"Thêm khách hàng",-1)),qe={class:"table"},Ue=N('<div class="header flex-bw-al" data-v-7c9faa60><div class="title" style="min-width:295px;" data-v-7c9faa60>Thông tin khách hàng</div><div class="title" style="min-width:290px;" data-v-7c9faa60>Thiết bị</div><div class="title" style="min-width:295px;" data-v-7c9faa60>Gói cước</div><div class="title" style="min-width:230px;" data-v-7c9faa60>Ký tự lồng tiếng</div><div class="title" style="min-width:230px;" data-v-7c9faa60>Số phút phụ đề</div><div class="title" style="min-width:295px;" data-v-7c9faa60>Tổng point nạp</div><div class="title" style="min-width:95px;" data-v-7c9faa60>HĐ</div></div>',1),Qe={class:"body"},Je={class:"titles flex-al gap-10",style:{"min-width":"295px"}},We={style:{width:"180px",height:"20px","margin-bottom":"0"},class:"title text-long1"},Xe={class:"titles flex-cl-jt",style:{"min-width":"290px"}},Ze={class:"flex-al gap-5 title"},$e=["src"],et={key:0},tt={key:1,class:"text-300"},nt={class:"contents flex-al gap-3"},st=m(()=>e("div",null,"Kích hoạt:",-1)),it={class:"titles flex-al gap-10",style:{"min-width":"295px","padding-inline":"10px"}},at=["src"],ot={class:"title"},lt={class:"contents text-long1"},ct={class:"titles flex-cl-jt",style:{"min-width":"230px"}},dt={class:"title"},rt={class:"contents-blue"},_t={class:"titles flex-cl-jt",style:{"min-width":"230px"}},ht={class:"title"},gt={class:"contents-blue"},mt={class:"titles flex-cl-jt",style:{"min-width":"295px","border-right":"none"}},pt={class:"title"},ut={class:"contents-red"},yt={class:"titles flex-al",style:{"min-width":"95px",overflow:"visible"}},vt=["onClick"],ft=["src"],xt=m(()=>e("div",null,"Nạp tiền",-1)),wt=["onClick"],kt=["src"],Ct=m(()=>e("div",null,"Copy lại mật khẩu",-1)),At={ref:"sentinel",class:"sentinel"},bt={class:"note flex-bw-al"},Tt={class:"flex-al gap-10",style:{height:"100%"}},Mt={class:"flex-al ps-rl gap-10",style:{"padding-bottom":"20px"}},Dt=["src"],Ft=m(()=>e("div",{class:"text-300"},"Loại giao dịch:",-1)),Et=m(()=>e("div",null,"Tất cả",-1)),St=["src"],It={key:1,class:"select_type_filter"},Bt={class:"selects-type flex-al gap-3"},Pt=["src"],Nt=m(()=>e("div",{class:"text-300"},[e("input",{type:"text",name:"datetimes",class:"text-300"})],-1)),Vt=["src"],jt={key:2,style:{width:"250px"},class:"selects-type flex-al gap-3"},Rt=["src"],Yt={class:"data"},Lt={class:"header-data flex-al"},zt={key:0,class:"titles",style:{"min-width":"250px",width:"100%"}},Ht={key:1,class:"titles",style:{"min-width":"250px",width:"100%"}},Gt=m(()=>e("div",{class:"titles",style:{"min-width":"250px",width:"100%"}},"Thời gian",-1)),Kt=m(()=>e("div",{class:"titles",style:{"min-width":"250px",width:"100%"}},"Số point",-1)),Ot=m(()=>e("div",{class:"titles flex-end",style:{"min-width":"150px",width:"100%"}},"Trạng thái",-1)),qt={class:"body-data"},Ut={key:0,class:"titles ps-rl flex-al gap-5",style:{"min-width":"250px",width:"100%"}},Qt={key:0},Jt={key:1},Wt=["onClick"],Xt={key:3,class:"info-detail flex-cl-jt gap-20"},Zt={class:"flex-cl-jt gap-5"},$t={class:"fz-16"},en={class:"text-300"},tn={key:1,class:"titles",style:{"min-width":"250px",width:"100%"}},nn={class:"text-long1",style:{width:"200px"}},sn={class:"titles",style:{"min-width":"250px",width:"100%"}},an={class:"titles",style:{"min-width":"250px",width:"100%"}},on={class:"titles flex-end",style:{"min-width":"150px",width:"100%"}},ln={key:0,style:{color:"#00c49f"}},cn={key:0,ref:"sentinel",class:"sentinel"},dn={key:1,ref:"sentinel",class:"sentinel"};function rn(t,n,c,_,s,i){const h=C("Icon"),r=C("AddMoney"),p=C("AddClient"),x=P("observe-visibility");return o(),l("div",be,[Te,e("div",Me,[e("div",De,[e("div",Fe,[e("div",null,[e("img",{src:i.img("logo.svg"),alt:""},null,8,Ee)]),e("div",Se,[e("img",{src:i.img("user.svg"),alt:""},null,8,Ie),e("div",Be,d(s.info_agency.name),1)])]),e("div",Pe,[(o(!0),l(v,null,A(s.item_information,a=>(o(),l("div",{class:"item-information flex-al gap-10",key:a.name},[e("div",Ne,[e("img",{src:i.img(a.icon),alt:""},null,8,Ve)]),e("div",null,[e("div",je,d(a.name),1),e("div",Re,d(a.number),1)])]))),128))]),e("div",Ye,[e("div",Le,[e("div",{class:k(["items",{active:s.selected_type==="client"}]),onClick:n[0]||(n[0]=a=>s.selected_type="client")},"Quản lý khách hàng",2),e("div",{class:k(["items",{active:s.selected_type==="transaction"}]),onClick:n[1]||(n[1]=a=>s.selected_type="transaction")},"Quản lý giao dịch",2)]),s.selected_type==="client"?(o(),l("div",ze,[e("div",He,[e("img",{src:i.img("search.svg"),alt:""},null,8,Ge),y(e("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=a=>s.search=a),placeholder:"Tìm kiếm tên email hoặc số điện thoại . . ."},null,512),[[T,s.search]])]),e("div",{style:{"border-radius":"10px",height:"40px"},class:"button flex-al gap-3",onClick:n[3]||(n[3]=a=>i.openAddClient())},[e("img",{src:i.img("add_client.svg"),alt:""},null,8,Ke),Oe])])):g("",!0)])]),e("div",qe,[s.selected_type==="client"?(o(),l(v,{key:0},[Ue,e("div",Qe,[(o(!0),l(v,null,A(s.data_client,a=>(o(),l("div",{class:"items flex",key:a.id},[e("div",Je,[e("div",{class:"avatar fw-600 flex-al-jt",style:I({background:i.getRandomColor(a.email)})},d(i.getFirstLetter(a.email)),5),e("div",null,[e("div",We,d(a.email),1)])]),e("div",Xe,[e("div",Ze,[e("img",{src:i.img("icon_device.svg"),alt:""},null,8,$e),a.name_device?(o(),l("div",et,d(a.name_device),1)):(o(),l("div",tt,"-"))]),e("div",nt,[st,e("div",null,d(i.formatDateTime(a.created_at)),1)])]),e("div",it,[e("div",null,[e("img",{src:i.getPackageIcon(a.name_pankage),alt:""},null,8,at)]),e("div",null,[e("div",ot,d(a.purchase_term)+" tháng",1),e("div",lt,d(i.formatExpiryDate(a.expiry_date)),1)])]),e("div",ct,[e("div",dt,d(i.formatnumber(a.number_voice_characters))+" ký tự",1),e("div",rt," Còn lại "+d(i.formatnumber(a.number_voice_characters-a.voice_used)),1)]),e("div",_t,[e("div",ht,d(i.formatnumber(a.number_minutes_subtitle))+" phút",1),e("div",gt," Còn lại "+d(i.formatnumber(a.number_minutes_subtitle-a.minutes_used)),1)]),e("div",mt,[e("div",pt,d(i.formatCurrency(a.deposit_amount)),1),e("div",ut,"Số dư: "+d(i.formatCurrency(a.user_balance)),1)]),e("div",yt,[b(h,{onClick:w=>i.clickpageAccount(a.id,"select_up_money"),class:"edits popup-class",size:"24",src:i.img("icon_edit.svg"),alt:""},null,8,["onClick","src"]),s.select_up_money===a.id?(o(),l("div",{key:0,class:"up-money",onClick:n[4]||(n[4]=f(()=>{},["stop"]))},[e("div",{class:"items-up flex-al gap-10",onClick:f(w=>i.upMoneyClient(a),["stop"])},[e("img",{src:i.img("icon_up_money.svg"),alt:""},null,8,ft),xt],8,vt),e("div",{class:"items-up flex-al gap-10",onClick:f(w=>i.copyPassword(a),["stop"])},[e("img",{src:i.img("copy_pass.svg"),alt:""},null,8,kt),Ct],8,wt)])):g("",!0)])]))),128)),y(e("div",At,null,512),[[x,i.loadMoreVideos]])])],64)):(o(),l(v,{key:1},[e("div",bt,[e("div",Tt,[e("div",{class:k(["type-money",{active:s.type_money==="out"}]),onClick:n[5]||(n[5]=a=>s.type_money="out")},"Tiền ra",2),e("div",{class:k(["type-money",{active:s.type_money==="in"}]),onClick:n[6]||(n[6]=a=>s.type_money="in")},"Tiền vào hệ thống",2)]),e("div",Mt,[s.type_money==="out"?(o(),l("div",{key:0,onClick:n[7]||(n[7]=a=>i.clickpageOpen("filter_type_money")),class:"selects-type popup-class flex-al gap-3"},[e("img",{src:i.img("icon_filter.svg"),alt:""},null,8,Dt),Ft,Et,e("img",{src:i.img("icon_arrow.svg"),alt:""},null,8,St)])):g("",!0),s.filter_type_money?(o(),l("div",It,[e("div",{class:"item-filter",onClick:n[8]||(n[8]=a=>s.filter_money="all")},"Tất cả"),e("div",{class:"item-filter",onClick:n[9]||(n[9]=a=>s.filter_money="buy")},"Mua gói"),e("div",{class:"item-filter",onClick:n[10]||(n[10]=a=>s.filter_money="recharge")},"Nạp tiền")])):g("",!0),e("div",Bt,[e("img",{src:i.img("icon_lich.svg"),alt:""},null,8,Pt),Nt,e("img",{src:i.img("icon_arrow.svg"),alt:""},null,8,Vt)]),s.type_money==="out"?(o(),l("div",jt,[e("img",{src:i.img("search.svg"),alt:""},null,8,Rt),y(e("input",{"onUpdate:modelValue":n[11]||(n[11]=a=>s.search_trade_money=a),type:"text",placeholder:"Tìm kiếm theo email"},null,512),[[T,s.search_trade_money]])])):g("",!0)])]),e("div",Yt,[e("div",Lt,[s.type_money==="out"?(o(),l("div",zt,"Loại giao dịch")):g("",!0),s.type_money==="out"?(o(),l("div",Ht,"Tên khách hàng")):g("",!0),Gt,Kt,Ot]),e("div",qt,[(o(!0),l(v,null,A(s.data_trade_money,(a,w)=>(o(),l("div",{class:"items flex-al",key:a.id},[s.type_money==="out"?(o(),l("div",Ut,[a.buy_package?(o(),l("div",Qt,"Mua gói cước cho KH")):(o(),l("div",Jt,"Nạp tiền cho KH")),a.buy_package?(o(),l("div",{key:2,class:"detail popup-class flex-al-jt",onClick:_n=>i.clickpageAccount(w,"info_detail")},"Chi tiết",8,Wt)):g("",!0),s.selected_index===w?(o(),l("div",Xt,[e("div",Zt,[e("div",$t,d(a.name_package)+" "+d(a.purchase_term)+" tháng",1),e("div",en,d(i.formatExpiryDateMonth(a.created_at,a.purchase_term)),1)])])):g("",!0)])):g("",!0),s.type_money==="out"?(o(),l("div",tn,[e("div",nn,d(a.email),1)])):g("",!0),e("div",sn,d(i.formatDateTime(a.created_at)),1),e("div",an,d(i.formatnumber(a.amount_money)),1),e("div",on,[a.status==="success"?(o(),l("div",ln,"Thành công")):g("",!0)])]))),128)),s.type_money==="out"?y((o(),l("div",cn,null,512)),[[x,i.loadMoreTradeMoney]]):y((o(),l("div",dn,null,512)),[[x,i.loadMoreTradeMoneyIn]])])])],64))])]),b(r,{onSuccessRecharge:i.successRecharge,ref:"addMoney",select_client_money:s.select_client_money},null,8,["onSuccessRecharge","select_client_money"]),b(p,{ref:"addClient",onCreateClient:i.createClient},null,8,["onCreateClient"])])}typeof S=="function"&&S(B);const mn=M(B,[["render",rn],["__scopeId","data-v-7c9faa60"]]);export{mn as default};
